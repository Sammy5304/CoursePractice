<header class="mb-2">
  <nav class="d-flex align-items-center justify-content-end" aria-label="breadcrumb">
    <span class="text-muted">部門查詢</span>
    <span class="text-muted me-2 ms-2">/</span>
    <span class="text-muted">部門主檔</span>
  </nav>
</header>
<div class="card fixed-card">
  <div class="card-header d-flex justify-content-between align-items-center">
    <div class="card-title h4 mt-2"><i class="bi bi-search me-2"></i>部門查詢條件</div>
    <button class="btn btn-outline-light" type="button" (click)="toggleCollapse()">
      <i class="bi" [ngClass]="{'bi-caret-down': isCollapsed, 'bi-caret-up': !isCollapsed}"></i>
    </button>
  </div>
  <div class="collapse" [ngClass]="{'show': !isCollapsed}" id="collapseExample">
    <div class="card-body">
      <form class="row g-3" [formGroup]="queryForm" (ngSubmit)="onSearch()">
        <div class="col-md-6 col-lg-3">
          <label>部門代碼</label>
          <input type="text" class="form-control" placeholder="請輸入部門代碼" formControlName="code">
        </div>
        <div class="col-md-6 col-lg-3">
          <label>部門名稱</label>
          <input type="text" class="form-control" placeholder="請輸入部門名稱" formControlName="name">
        </div>
        <div class="col-md-6 col-lg-3">
          <label>部門主管</label>
          <input type="text" class="form-control" placeholder="請輸入主管員工代碼" formControlName="managerId">
        </div>
        <div class="col-md-6 col-lg-3">
          <label>是否啟用</label>
          <select class="form-select" id="inputGroupSelect01" formControlName="isActive">
            <option value="">全部</option>
            <option value="1">啟用</option>
            <option value="2">停用</option>
          </select>
        </div>
       <div class="col-12 d-flex align-items-end">
          <div class="d-flex gap-2 w-100 border-0 p-0 m-0">
            <button type="submit" class="btn btn-primary flex-fill"><i class="bi bi-search me-2"></i>查詢</button>
            <button type="button" class="btn btn-outline-secondary flex-fill" (click)="onReset()"><i class="bi bi-arrow-counterclockwise me-2"></i>重設</button>
            <button type="button" class="btn btn-success flex-fill" (click)="onAdd()"><i class="bi bi-plus me-2"></i>新增</button>
          </div>
        </div>
      </form>
    </div>
  </div>
</div>
<!-- Empty State -->
<div class="empty-state" *ngIf="!isSearched">
  <i class="bi bi-clipboard-minus mb-3"></i>
  <h3 class="mb-2">尚未查詢</h3>
  <p>請先填寫查詢條件並點擊查詢按鈕</p>
</div>

<!-- 查詢結果 Table -->
<div class="mt-2" *ngIf="isSearched">
  <app-department-querylist [deptlist]="deptlist"></app-department-querylist>
</div>